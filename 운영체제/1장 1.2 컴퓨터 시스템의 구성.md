
### 컴퓨터 시스템 동작(computer system operation)

- 현대의 범용 컴퓨터 시스템은 공유 메모리에 대한 접근을 제공하는 공통 버스를 통해 장치 제어기들과 하나 이상의 cpu로 구성되어있다.
- cpu, 장치 제어기는 메모리 사이클을 얻기 위해 경쟁하며 병행실행될수있다
- 컴퓨터가 구동하기 위한 초기 프로그램은 전형적으로 펌웨어라 알려진 컴퓨터 내의 읽기 전용 메코리나 EEPROM에 저장된다.

> - 입출력 장치와 CPU는 동시 실행될 수 있다.
> - 장치 컨트롤러는 CPU에 이벤트 발생을 알리는것을 **인터럽트**라 한다.
> - 여러 작업을 동시에 처리하는 컴퓨터에 임시 중단해야할 경우 인터럽트 신호를 보낸다.
> - 소프트웨어에 의해 발생하는 인터럽트는 **트랩**이라 한다
> - 하드웨어는 시스템 버스를 통해 CUP에 신호를 보내 인터럽트를 발생
> - 소프트웨어는 시스템 콜 이라는 명령으로 인터럽트 발생

### 저장장치 구조(Storage Structure)

- cpu는 메모리로부터 명령 적재를 대부분 읽기 쓰기 가능한 주메모리(RAM)에서 실행 시킨다.
- 주 메모리는 Dynamic Random Access Memory(DRAM)라 불리는 반도체 기술로 구현
- 다른형태의 메모리 Read only memory(ROM)은 갱신될 수 없어 정적인 프로그램만 저장. 변경불가능
- 모든 메모리는 워드의 배열을 제공, 워드는 고유주소를 가진다.
- 특정 메모리 주소들에 대한 적재, 저장 명령을 통해 적재 명령은 주 메모리에서 CPU 내부의 레지스터로 한 워드를 옮긴다.
- 저장명령은 레지스터 내용을 주 메모리로 옮긴다
  명시적 적재, 저장명령 외에 CPU는 실행을 위해 자동적으로 명령을 적재

> [폰 노이만 구조시스템에서 명령 - 실행 사이클]
> 메모리로부터 명령을 인출후 명령 레지스터에 저장
> 명령 해독후 메모리로부터 피연산자를 인출하여 내부 레지스터에 저장하도록 유발
> 피연산자에 대해 명령을 싱행한 후 결과가 메모리에 다시 저장될수 있다

- 메모리장치는 연속적인 메모리 주소만 인식할수있다
- 메모리는 주소(명령 카운터, 색인, 간접 주소, 리터럴 주소)가 어떻게 생성되는지 알지 못하고 명령인지 데이터인지 알지 못한다.

>[메모리에 데이터의 영구 보존이 불가능한이유]
>1. 주 메모리는 모든 필요한 프로그램과 데이터를 영구히 저장하기에 작다
>2. 주 메모리는 전원이 공급되지않으면 내용을 잃어버리는 휘발성저장장치이다.
> 
> - 보조 저장장치를 이용하여 데이터를 보관한다

- 다양한 저장장치 시스템과 주된 차이점은 속도, 가격, 크기, 휘발성등이다.
- 저장장치 계층에서 전자 디스크 이상의 저장장치는 휘발성이고 아래는 비휘발성이다. 전자디스크는 둘중 하나가 되도록 설계할수 있다.

### 입출력 구조(I/O Structure)

- 범용 컴퓨터 시스템은 공통 버스로 연결된 여러 장치 제어기와 cpu로 구성
- 각 장치 제어기가 특정 타입의 장치를 담당,제어기에따라 여러 장치도 부착가능
- 장치 제어기는 자신이 제어하는 주변장치와 자신의 로컬 버커 저장장치간 데이터 전송을 담당
- 디바이스 드라이버는 장치 제어기의 동작을 이해한후 운영체제에 인터페이스 제공

>1. 입출력 연산을 위해 디바이스 드라이버는 장치제어기의 레지스터에 필요한 값 적재
>2. 동작 결정을 위해 레지스터 내용 조사
>3. 제어기는 장치로부터 자신의 로컬 버퍼로 데이터 전송후 연산완료 인터럽트를 디바이스 드라이버에 통보
>4. 디바이스 드라이버는 제어를 운영체제에 반환 다른 동작은 상태 정보 반환

- 이 인터럽트 구동 방식은 대량의 데이터를 전송하는데 높은 오버헤드를 초래한다. 문제를 해결하기위해 직접 메모리 접근 장치가 사용된다
- 장치에 대한 버퍼 및 포인터, 입출력 카운트를 세팅후 제어기는 cpu의 개입없이 메모리로부터 데이터 블록 전체를 전송. 한 바이트마다 인터럽트가 발생하는것이 아닌 블록전송마다 인터럽트 발생
- 장치 제어기가 전송 작업을 실행할 동안 cpu는 다른 작업을 실행할 수 있다.
- 