
> 운영체제의 내부구조의 다양성과 공통점들을 설명한다

- 운영체제의 가장 중요한 측면은 **다중 프로그램(multiprogram)** 을 할 수 있는 능력
- 일반적으로 단일 프로그램은 CPU 또는 입출력 장치를 항상 유지할수 없다.
- 다중 프로그래밍은 CPU가 항상 하나의 작업을 실행할 수 있게 구성함으로써 CPU 이용률을 증가시킨다.
- 기본적으로 운영체제는 한 번에 여러 작업을 메모리에 적재한다.
- 주 메모리는 모든 작업을 저장하기에 너무 작기 때문에 작업들은 처음에는 디스크 상에 존재하는 작업 풀(pool) 내에 유지된다.
- 풀은 주 메모리 할당을 기다리며 디스크에 존재하는 모든 프로세스들로 구성된다.
- 운영체제는 메모리의 작업 중에 하나를 선택해 실행한다. 결국 이 작업의 입출력의 종료를 기다리는 것과 같이 어떤 일을 기다려야된다
- 비 다중 프로그래밍(non-multiprogrammed) 시스템에서는 CPU가 쉬어야한다.

- **다중 프로그래밍 시스템에서는 운영체제가 단순히 다른 작업으로 전환해 그 작업을 실행한다.**
- 이 나중의 작업이 어떤 일을 기다려야 한다면 CPU는 또 다른 작업으로 전환한다.
- 따라서 실행될 작업이 하나라도 존재하는 한 CPU는 쉬지않는다.
- 다중 프로그래밍 시스템은 여러 가지 시스템 자원(CPU,메모리,주변장치)을 효율적으로 이용할 수 있는 환경을 제공하지만 사용자가 컴퓨터 시스템과 상호작용할 수 는 없다.

- **시분할(또는 멀티태스킹: multi-tasking)** 은 다중 프로그래밍의 논리적 확장이다
- 시분할 시스템에서는 CPU가 다수의 작업들을 서로 교대로 실행하지만, 매우 빈번하게 교대가 일어나기 때문에 프로그램이 실행되는 동안에 사용자들은 각자 자기의 프로그램과 상호작용할 수있다.
- 시분할 시스템은 **대화식(interactive)** 혹은, **실제 조작 가능한(hands-on)** 컴퓨터 시스템을 필요 하는데 이 시스템은 *사용자와 시스템간 직접적인 통신을 제공한다*
- 시분할 운영체제는 *동시에 많은 사용자가 컴퓨터를 공유*할 수 있게 한다.
- 시스템에 한 사용자에서 다음 사용자로 빠르게 전환되기에 다수의 사용자가 하나의 컴퓨터를 공유한다.
- 시분할 운영체제는 각 사용자에게 CPU 스케줄링과 다중 프로그래밍을 사용한다.
- 각 사용자는 메모리에 최소한 하나의 독립된 프로그램을 가지며 메모리에 적재되어 있고 실행되는 프로그램을 일반적으로 **프로세스**라 한다.
- 프로세스가 실행될 때는 전형적으로 자신이 종료되거나 입출력을 실행할 필요가 있을 때까지 아주 짧은 시간 동안만 실행된다.
- 입출력이 진행되는 동안 CPU를 쉬게 하지 않고 운영체제는 CPU를 다른 프로그램으로 신속하게 전환한다.

- 시분할과 다중 프로그래밍 운영체제에서 메모리에 여러 작업이 동시에 유지되어야한다.
- 작업이 메모리로 옮겨올 준비가 되었고 전부 보관할 공간이 불충분하다면 시스템은 몇 개를 선택해서 보관한다 이러한 결정을 하는 것이 **작업 스케줄링이다.**
- 여러 개의 작업이 동시에 실행 준비가 되어 있으면 동작할 작업 결정을 내리는 것을 **CPU 스케줄링**이라 한다

- 병행적으로 실행되는 다수의 작업은 프로세스 스케줄링, 디스크 저장장치, 메모리 관리를 포함하여 운영체제 모든 단계에서 상호영향을 제한될 필요가 있다.
- 시분할 시스템에서 운영체제는 적절한 응답 시간을 보장하기 위하여 작업들을 주 메모리에서 디스크로 적절하게 **스왑인(swap-in) 또는 스왑아웃(swap-out)** 시킨다.
- 이 목적을 달성할 수 있는 일반적인 방법은 **가상 메모리(virtual memory)** 를 사용하는 것이고 이것은 일부만이 메모리에 있는 작업의 실행을 허용하는 기법이다.
- 이 기법의 이점은 프로그램이 물리 메모리의 크기보다 더 커도 된다는 것이다. 또한 가상 메모리는 주 메모리를 균등한 저장장치의 배열로 추상화하여 사용자에게 보이는 논리 메모리를 물리 메모리로부터 분리시킨다.
- 이러한 기법은 프로그래머를 메모리 저장장치의 한계로부터 자유롭게 해준다

- 시분할 시스템은 반드시 파일 시스템도 제공해야한다.
- 파일 시스템은 다수의 디스크 상에 존재하므로 디스크 관리 기법이 반드시 제공되어야 한다.
- 시분할 시스템은 부적당한 사용으로부터 자원을 보호하기 위한 기법을 제공해야한다.
- 작업이 순차적으로 실행되기 위해서 시스템은 반드시 작업 동기화와 통신 기법을 제공해야하며 작업이 서로를 영원히 기다리는 교착상태(deadlock)에 빠지지 않도록 해야한다.